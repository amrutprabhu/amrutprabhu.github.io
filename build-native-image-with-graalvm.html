<!DOCTYPE html><html lang="en"><head><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/icon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/icon.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');d.add('light');if("system"===e||(!e&&false)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="amrutprabhu" data-description="Support me on Buy me a coffee!" data-message="" data-color="#FFDD00" data-position="Right" data-x_margin="18" data-y_margin="18" strategy="afterInteractive" async=""></script><title>Build Native Image For A Spring Boot Application | RefactorFirst</title><meta name="robots" content="follow, index"/><meta name="description" content="We will look into the various important aspects of what is required to create a native image and how it is created"/><meta property="og:url" content="https://refactorfirst.com/build-native-image-with-graalvm"/><meta property="og:type" content="article"/><meta property="og:site_name" content="RefactorFirst"/><meta property="og:description" content="We will look into the various important aspects of what is required to create a native image and how it is created"/><meta property="og:title" content="Build Native Image For A Spring Boot Application"/><meta property="og:image" content="https://refactorfirst.com/static/images/2022/build-native-image-with-graalvm/cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="https://twitter.com/amrutprabhu42"/><meta name="twitter:title" content="Build Native Image For A Spring Boot Application"/><meta name="twitter:description" content="We will look into the various important aspects of what is required to create a native image and how it is created"/><meta name="twitter:image" content="https://refactorfirst.com/static/images/2022/build-native-image-with-graalvm/cover.jpg"/><meta property="article:published_time" content="2022-11-03T00:00:00.000Z"/><link rel="canonical" href="https://refactorfirst.com/build-native-image-with-graalvm"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://refactorfirst.com/2022/build-native-image-with-graalvm"
  },
  "headline": "Build Native Image For A Spring Boot Application",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://refactorfirst.com/static/images/2022/build-native-image-with-graalvm/cover.jpg"
    }
  ],
  "datePublished": "2022-11-03T00:00:00.000Z",
  "dateModified": "2022-11-03T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Amrut Prabhu"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Amrut Prabhu",
    "logo": {
      "@type": "ImageObject",
      "url": "https://refactorfirst.com/static/images/favicons/icon.png"
    }
  },
  "description": "We will look into the various important aspects of what is required to create a native image and how it is created"
}</script><meta name="next-head-count" content="21"/><link rel="preload" href="/_next/static/css/7b44aadccc233deb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7b44aadccc233deb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-0dfbf29ef9c09171.js" defer=""></script><script src="/_next/static/chunks/main-a8532ea7c2505ecc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-115c3eb9acb4de97.js" defer=""></script><script src="/_next/static/chunks/framework-327e104994690a53.js" defer=""></script><script src="/_next/static/chunks/207-4f91422181f853c0.js" defer=""></script><script src="/_next/static/chunks/102-44d019039021b7f9.js" defer=""></script><script src="/_next/static/chunks/883-969d35733b3fb9ae.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-da416b81bf0ecd48.js" defer=""></script><script src="/_next/static/yTzK2PcQa7bx8MzM0z20U/_buildManifest.js" defer=""></script><script src="/_next/static/yTzK2PcQa7bx8MzM0z20U/_ssgManifest.js" defer=""></script><script src="/_next/static/yTzK2PcQa7bx8MzM0z20U/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="antialiased text-black bg-white dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div class="flex flex-col justify-between h-screen"><header class="flex items-center justify-between py-10"><div><a aria-label="RefactorFirst" href="/"><div class="flex items-center justify-between"><div class="mr-3"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIi8+"/></span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img srcSet="/static/favicons/icon.png?imwidth=64 1x, /static/favicons/icon.png?imwidth=128 2x" src="/static/favicons/icon.png?imwidth=128" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div><div class="h-6 text-2xl font-semibold sm:block">RefactorFirst</div></div></a></div><div class="mt-6"></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/posts">Posts</a><a class="p-1 font-medium text-gray-900 sm:p-4 dark:text-gray-100" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="w-8 h-8 p-1 ml-1 mr-1 rounded sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="w-8 h-8 py-1 ml-1 mr-1 rounded" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed w-full h-full top-24 right-0 bg-gray-200 dark:bg-gray-800 opacity-95 z-10 transform ease-in-out duration-300 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed w-full h-full cursor-auto focus:outline-none"></button><nav class="fixed h-full mt-8"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/posts">Posts</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div class="fixed flex-col hidden gap-3 right-8 bottom-8 md:flex"><button aria-label="Scroll To Top" type="button" style="opacity:0" class="p-2 text-gray-500 transition-all bg-gray-200 rounded-full dark:text-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600 hover:bg-gray-300"><svg class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2022-11-03T00:00:00.000Z">Thursday, November 3, 2022</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Build Native Image For A Spring Boot Application</h1><div class="mt-6"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzQ0IiBoZWlnaHQ9IjQwNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></span><img alt="Build Native Image For A Spring Boot Application" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="object-cover object-center lg:h-48 md:h-36" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Build Native Image For A Spring Boot Application" srcSet="static/images/2022/build-native-image-with-graalvm/cover.jpg?imwidth=750 1x, static/images/2022/build-native-image-with-graalvm/cover.jpg?imwidth=1920 2x" src="static/images/2022/build-native-image-with-graalvm/cover.jpg?imwidth=1920" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center lg:h-48 md:h-36" loading="lazy"/></noscript></span></div><div class="text-primary-500 hover:text-primary-600 text-md dark:hover:text-primary-400"><div></div></div><div class="mt-2 text-gray-500 dark:text-gray-400">9 min read</div></div></div></header><div class="pb-8 divide-y divide-gray-200 xl:divide-y-0 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 xl:block sm:space-x-12 xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMzgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIi8+"/></span><img alt="avatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="w-10 h-10 rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="avatar" srcSet="static/images/avatar-small.jpg?imwidth=48 1x, static/images/avatar-small.jpg?imwidth=96 2x" src="static/images/avatar-small.jpg?imwidth=96" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="w-10 h-10 rounded-full" loading="lazy"/></noscript></span><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Amrut Prabhu</dd><dt class="sr-only">Twitter</dt><dd><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/amrutprabhu42" class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400">@amrutprabhu42</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:pb-0 xl:col-span-3 xl:row-span-2"><div class="pt-10 pb-8 prose text-md dark:prose-dark max-w-none"><div></div><div><p>In this article, we will look into the various important aspects of what is required to create a native image and how it is created.</p>
<h2 id="introduction"><a href="#introduction" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Introduction</h2>
<p>Spring Boot 3.0 is the next major release providing quite a huge set of features and improvements. It will be using Spring framework 6.0 and the baseline Java version is going to be Java 17.</p>
<p>Now one of the major features provided is the ability to build native images using GraalVM out of the box.</p>
<p>There are two ways you can build the native images</p>
<ul>
<li>Using the Cloud Native Buildpacks mechanism which will create a container with a native executable.</li>
<li>Using GraalVM Native build tools.</li>
</ul>
<p>We will be exploring creating a native image using GraalVM Native build tools.</p>
<p>Before we create a native image, let&#x27;s understand what a native image is.</p>
<h2 id="what-is-a-native-image"><a href="#what-is-a-native-image" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>What is a Native Image</h2>
<p>A native image is a standalone executable of a Java application. We no longer need to create an executable jar nor require a JVM to run it.</p>
<p>Since there is no JVM involved, we lose the concept of dynamic class loading, Lazy loading, reflection, proxying classes, etc.</p>
<p><strong><em>So then how does the Spring Boot Application work?</em></strong></p>
<p>To execute the application, all information required to run the application must be known during build time.</p>
<p>During build time, the code is statically analyzed from the “main” method entry point using ahead-of-time processing (AOT). This means any class that is not reachable is not included in the native image. The classpath is fixed and no lazy loading happens at runtime.</p>
<p>Features like reflection, resources, and proxy class information need to be provided to GraalVM during image creation. To do this, special JSON config files called Hint files are created to tell GraalVM how to deal with it.</p>
<p><strong><em>What advantage does it give us?</em></strong></p>
<p>The most important one is the application’s speed of execution.</p>
<p>When we execute the native image, everything included in the native image is loaded in memory. This helps in achieving very high performance at runtime.</p>
<p>It also has its share of drawbacks like e.g you cannot use <code>@profile</code> or conditional bean loading using <code>@ConditionalOnProperty</code></p>
<p>With this overview, let’s create an application and explore what gets created.</p>
<h2 id="creating-an-application"><a href="#creating-an-application" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Creating an Application</h2>
<p>Let’s start by creating a simple application from <a target="_blank" rel="noopener noreferrer" href="https://start.spring.io">https://start.spring.io</a>, which has a REST endpoint and returns a static string.</p>
<p>For this, we will add the Spring Web dependency and we will be using Spring Boot version 3.0.0.</p>
<p>Let’s create a simple controller that returns a static string</p>
<div class="relative"><pre><code class="language-java code-highlight"><span class="code-line"><span class="token annotation punctuation">@RestController</span>
</span><span class="code-line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebController</span> <span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token string">&quot;Yes! it works&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div>
<p>Now to build the native image, we need GraalVM version 22.3. You can install it using <a target="_blank" rel="noopener noreferrer" href="https://sdkman.io/">sdkman</a> or download it from <a target="_blank" rel="noopener noreferrer" href="https://www.graalvm.org/downloads/">here</a>.</p>
<p>Next, we are going to build the image using the following command.</p>
<div class="relative"><pre><code class="language-shell code-highlight"><span class="code-line">mvn native:compile -Pnative
</span></code></pre></div>
<p>Building the native image may take some time which depends on the system you are using.</p>
<div class="relative"><pre><code class="language-shell code-highlight"><span class="code-line"><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
</span><span class="code-line">GraalVM Native Image: Generating <span class="token string">&#x27;native-image-build&#x27;</span> <span class="token punctuation">(</span>executable<span class="token punctuation">)</span><span class="token punctuation">..</span>.
</span><span class="code-line"><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
</span><span class="code-line"><span class="token punctuation">[</span><span class="token number">1</span>/7<span class="token punctuation">]</span> Initializing<span class="token punctuation">..</span>.                                                                                    <span class="token punctuation">(</span><span class="token number">6</span>.7s @ <span class="token number">0</span>.18GB<span class="token punctuation">)</span>
</span><span class="code-line"> Version info: <span class="token string">&#x27;GraalVM 22.3.0-dev Java 17 CE&#x27;</span>
</span><span class="code-line"> Java version info: <span class="token string">&#x27;17.0.5+8-LTS&#x27;</span>
</span><span class="code-line"> C compiler: gcc <span class="token punctuation">(</span>linux, x86_64, <span class="token number">11.2</span>.0<span class="token punctuation">)</span>
</span><span class="code-line"> Garbage collector: Serial GC
</span><span class="code-line"> <span class="token number">1</span> user-specific feature<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">..</span>.
</span><span class="code-line"><span class="token punctuation">..</span>.
</span><span class="code-line"><span class="token punctuation">..</span>.
</span><span class="code-line"><span class="token punctuation">[</span><span class="token number">2</span>/7<span class="token punctuation">]</span> Performing analysis<span class="token punctuation">..</span>.  <span class="token punctuation">[</span>*********<span class="token punctuation">]</span>                                                               <span class="token punctuation">(</span><span class="token number">56</span>.0s @ <span class="token number">1</span>.94GB<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token number">15,703</span> <span class="token punctuation">(</span><span class="token number">92.40</span>%<span class="token punctuation">)</span> of <span class="token number">16,995</span> classes reachable
</span><span class="code-line">  <span class="token number">25,992</span> <span class="token punctuation">(</span><span class="token number">67.87</span>%<span class="token punctuation">)</span> of <span class="token number">38,299</span> fields reachable
</span><span class="code-line">  <span class="token number">76,294</span> <span class="token punctuation">(</span><span class="token number">62.25</span>%<span class="token punctuation">)</span> of <span class="token number">122,556</span> methods reachable
</span><span class="code-line">     <span class="token number">786</span> classes,   <span class="token number">156</span> fields, and <span class="token number">3,712</span> methods registered <span class="token keyword">for</span> reflection
</span><span class="code-line">      <span class="token number">64</span> classes,    <span class="token number">70</span> fields, and    <span class="token number">55</span> methods registered <span class="token keyword">for</span> JNI access
</span><span class="code-line">       <span class="token number">4</span> native libraries: dl, pthread, rt, z
</span><span class="code-line"><span class="token punctuation">[</span><span class="token number">3</span>/7<span class="token punctuation">]</span> Building universe<span class="token punctuation">..</span>.                                                                               <span class="token punctuation">(</span><span class="token number">7</span>.7s @ <span class="token number">5</span>.14GB<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">[</span><span class="token number">4</span>/7<span class="token punctuation">]</span> Parsing methods<span class="token punctuation">..</span>.      <span class="token punctuation">[</span>***<span class="token punctuation">]</span>                                                                      <span class="token punctuation">(</span><span class="token number">6</span>.1s @ <span class="token number">2</span>.43GB<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">[</span><span class="token number">5</span>/7<span class="token punctuation">]</span> Inlining methods<span class="token punctuation">..</span>.     <span class="token punctuation">[</span>****<span class="token punctuation">]</span>                                                                     <span class="token punctuation">(</span><span class="token number">2</span>.8s @ <span class="token number">5</span>.23GB<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">[</span><span class="token number">6</span>/7<span class="token punctuation">]</span> Compiling methods<span class="token punctuation">..</span>.    <span class="token punctuation">[</span>*******<span class="token punctuation">]</span>                                                                 <span class="token punctuation">(</span><span class="token number">51</span>.4s @ <span class="token number">1</span>.15GB<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">[</span><span class="token number">7</span>/7<span class="token punctuation">]</span> Creating image<span class="token punctuation">..</span>.                                                                                  <span class="token punctuation">(</span><span class="token number">7</span>.1s @ <span class="token number">3</span>.66GB<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token number">34</span>.01MB <span class="token punctuation">(</span><span class="token number">46.06</span>%<span class="token punctuation">)</span> <span class="token keyword">for</span> code area:    <span class="token number">50,037</span> compilation <span class="token function">units</span>
</span><span class="code-line">  <span class="token number">37</span>.08MB <span class="token punctuation">(</span><span class="token number">50.22</span>%<span class="token punctuation">)</span> <span class="token keyword">for</span> image heap:  <span class="token number">375,456</span> objects and <span class="token number">395</span> resources
</span><span class="code-line">   <span class="token number">2</span>.75MB <span class="token punctuation">(</span> <span class="token number">3.73</span>%<span class="token punctuation">)</span> <span class="token keyword">for</span> other data
</span><span class="code-line">  <span class="token number">73</span>.84MB <span class="token keyword">in</span> total
</span><span class="code-line">------------------------------------------------------------------------------------------------------------------------
</span><span class="code-line">Top <span class="token number">10</span> packages <span class="token keyword">in</span> code area:                               Top <span class="token number">10</span> object types <span class="token keyword">in</span> image heap:
</span><span class="code-line">   <span class="token number">1</span>.63MB sun.security.ssl                                     <span class="token number">7</span>.48MB byte<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span> code metadata
</span><span class="code-line">   <span class="token number">1</span>.06MB java.util                                            <span class="token number">5</span>.83MB byte<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span> embedded resources
</span><span class="code-line"> <span class="token number">826</span>.38KB java.lang.invoke                                     <span class="token number">3</span>.75MB java.lang.Class
</span><span class="code-line"> <span class="token number">717</span>.97KB com.sun.crypto.provider                              <span class="token number">3</span>.53MB java.lang.String
</span><span class="code-line"> <span class="token number">641</span>.59KB org.apache.tomcat.util.net                           <span class="token number">3</span>.08MB byte<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span> general heap data
</span><span class="code-line"> <span class="token number">534</span>.06KB org.apache.catalina.core                             <span class="token number">2</span>.91MB byte<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span> java.lang.String
</span><span class="code-line"> <span class="token number">493</span>.46KB org.apache.coyote.http2                              <span class="token number">1</span>.32MB com.oracle.svm.core.hub.DynamicHubCompanion
</span><span class="code-line"> <span class="token number">473</span>.01KB java.lang                                          <span class="token number">850</span>.48KB byte<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span> reflection metadata
</span><span class="code-line"> <span class="token number">470</span>.23KB com.sun.org.apache.xerces.internal.impl            <span class="token number">685</span>.03KB java.util.HashMap<span class="token variable">$Node</span>
</span><span class="code-line"> <span class="token number">461</span>.63KB sun.security.x509                                  <span class="token number">684</span>.50KB java.lang.String<span class="token punctuation">[</span><span class="token punctuation">]</span>
</span><span class="code-line">  <span class="token number">26</span>.44MB <span class="token keyword">for</span> <span class="token number">658</span> <span class="token function">more</span> packages                                <span class="token number">6</span>.20MB <span class="token keyword">for</span> <span class="token number">3105</span> <span class="token function">more</span> object types
</span><span class="code-line">------------------------------------------------------------------------------------------------------------------------
</span><span class="code-line">                        <span class="token number">6</span>.7s <span class="token punctuation">(</span><span class="token number">4.6</span>% of total <span class="token function">time</span><span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token number">42</span> GCs <span class="token operator">|</span> Peak RSS: <span class="token number">6</span>.54GB <span class="token operator">|</span> CPU load: <span class="token number">6.24</span>
</span><span class="code-line">------------------------------------------------------------------------------------------------------------------------
</span></code></pre></div>
<p>That&#x27;s pretty simple, right?</p>
<p>Let&#x27;s look at what is done behind the scenes to create this build.</p>
<p>In the target folder, we would usually find compiled classes of our application in the classes directory. But now we have some more classes.</p>
<div><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ2IiBoZWlnaHQ9IjQ3NSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></span><img alt="proxy classes" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="proxy classes" srcSet="static/images/2022/build-native-image-with-graalvm/proxy-classes.png?imwidth=640 1x, static/images/2022/build-native-image-with-graalvm/proxy-classes.png?imwidth=1200 2x" src="static/images/2022/build-native-image-with-graalvm/proxy-classes.png?imwidth=1200" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div>
<p>These are some of the proxy classes that are created at build time before the native image is created to provide the proxy class support.</p>
<p>To generate the sources for these proxy classes, Spring AOT processing starts the application up to the point the bean definitions are available and then generates the sources. These are available under the <code>spring-aot</code> folder as shown below.</p>
<div><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjA2IiBoZWlnaHQ9IjgyMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></span><img alt="proxy classes source files" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="proxy classes source files" srcSet="static/images/2022/build-native-image-with-graalvm/proxy-classes-source-files.png?imwidth=640 1x, static/images/2022/build-native-image-with-graalvm/proxy-classes-source-files.png?imwidth=1920 2x" src="static/images/2022/build-native-image-with-graalvm/proxy-classes-source-files.png?imwidth=1920" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div>
<p>In the META-INF folder, under the application’s package, you would find the <code>reflect-config.json</code> hint files which will provide information to GraalVM to handle cases where refection is used. This is also the same way how resources are handled using the <code>resource-config.json</code> file.</p>
<p>Finally, after creating all these files and classes, the native image is built using GraalVM.</p>
<p>Let’s now look at its speed of execution.</p>
<h2 id="performance-metrics"><a href="#performance-metrics" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Performance metrics</h2>
<p>Let’s start the application by building a normal executable jar with maven build and then find its performance numbers to compare it with the native image.</p>
<p>On running the application as an executable jar, we get this output.</p>
<div><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAxNiIgaGVpZ2h0PSIzMDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIi8+"/></span><img alt="spring-boot-jar-startup" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="spring-boot-jar-startup" srcSet="static/images/2022/build-native-image-with-graalvm/spring-boot-jar-startup.png?imwidth=1080 1x, static/images/2022/build-native-image-with-graalvm/spring-boot-jar-startup.png?imwidth=2048 2x" src="static/images/2022/build-native-image-with-graalvm/spring-boot-jar-startup.png?imwidth=2048" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div>
<p>While running the native image we get this output</p>
<div><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTc2IiBoZWlnaHQ9IjMwNSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></span><img alt="native-image-startup" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="native-image-startup" srcSet="static/images/2022/build-native-image-with-graalvm/native-image-startup.png?imwidth=1080 1x, static/images/2022/build-native-image-with-graalvm/native-image-startup.png?imwidth=2048 2x" src="static/images/2022/build-native-image-with-graalvm/native-image-startup.png?imwidth=2048" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div>
<p>The native image starts nearly <strong>31</strong> times faster as compared to the normal jar running on a JVM.</p>
<p>Let’s look at the time it takes to serve a GET request.</p>
<p>Here is the time it takes for the jar to serve requests on a JVM.</p>
<div><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTc2IiBoZWlnaHQ9IjMxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></span><img alt="spring-boot-get-performance" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="spring-boot-get-performance" srcSet="static/images/2022/build-native-image-with-graalvm/spring-boot-get-performance.png?imwidth=1080 1x, static/images/2022/build-native-image-with-graalvm/spring-boot-get-performance.png?imwidth=2048 2x" src="static/images/2022/build-native-image-with-graalvm/spring-boot-get-performance.png?imwidth=2048" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div>
<p>Here is the time it takes for the native image to serve requests.</p>
<div><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTc2IiBoZWlnaHQ9IjMxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></span><img alt="native-image-get-performance" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="native-image-get-performance" srcSet="static/images/2022/build-native-image-with-graalvm/native-image-get-performance.png?imwidth=1080 1x, static/images/2022/build-native-image-with-graalvm/native-image-get-performance.png?imwidth=2048 2x" src="static/images/2022/build-native-image-with-graalvm/native-image-get-performance.png?imwidth=2048" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div>
<p>Here is a full comparison between the two.</p>
<div><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzkxIiBoZWlnaHQ9IjE1NCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2ZXJzaW9uPSIxLjEiLz4="/></span><img alt="statistics" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="statistics" srcSet="static/images/2022/build-native-image-with-graalvm/statistics.png?imwidth=828 1x, static/images/2022/build-native-image-with-graalvm/statistics.png?imwidth=1920 2x" src="static/images/2022/build-native-image-with-graalvm/statistics.png?imwidth=1920" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span></div>
<p>That&#x27;s a huge improvement in performance in terms of startup time.</p>
<p>Now obviously the number may vary a bit based on different machines and also depends on how complex the application is. But still, there would be a significant amount of performance improvement.</p>
<h3 id="conclusion"><a href="#conclusion" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Conclusion</h3>
<p>GraalVM is bringing in high performant Java applications to the table but it also loses some of the flexibility we get from running a Spring Boot application on a JVM.</p>
<p>Finally, you have to decide, what is important to you.</p>
<p>I see it as a new possibility that Java is providing to the programmers and we will see over the years how this pans out.</p>
<p>I keep exploring and learning new things. If you want to know the latest trends and improve your software development skills, then subscribe to my newsletter below and also follow me on <a target="_blank" rel="noopener noreferrer" href="https://twitter.com/amrutprabhu42">Twitter</a>.</p>
<p>Enjoy!!</p></div></div><hr/></div><footer><div class="text-sm font-medium leading-5 divide-gray-200 xl:divide-y dark:divide-gray-700 xl:col-start-1 xl:row-start-2"><div class="py-4 xl:py-8"><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="m-1 p-1 leading-4 h-6 rounded text-xs uppercase text-white bg-teal-500 hover:bg-teal-600 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/java">Java</a><a class="m-1 p-1 leading-4 h-6 rounded text-xs uppercase text-white bg-teal-500 hover:bg-teal-600 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/spring-boot">Spring Boot</a><a class="m-1 p-1 leading-4 h-6 rounded text-xs uppercase text-white bg-teal-500 hover:bg-teal-600 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/native-image">Native Image</a><a class="m-1 p-1 leading-4 h-6 rounded text-xs uppercase text-white bg-teal-500 hover:bg-teal-600 dark:hover:bg-teal-500 dark:bg-teal-600" href="/tags/graalvm">GraalVM</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/spring-boot-with-graphql">Implementing GraphQL APIs in a Spring Boot Application</a></div></div><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/deploy-application-on-kubernetes-with-skaffold-helm-jib">Deploy Application on Kubernetes with Helm, JIB, and Skaffold</a></div></div></div></div><div class="pt-4 xl:pt-8 xl:mb-8 mb-4"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/">← Back to the articles</a></div><div class="border-4 border-teal-500 rounded-lg p-1"><a target="_blank" rel="noopener noreferrer" href="https://transactions.sendowl.com/stores/13745/235788"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTA1NCIgaGVpZ2h0PSIyMTAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIvPg=="/></span><img alt="title" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="object-cover object-center " style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="title" srcSet="/static/images/promotion/testing-spring-boot-applications-masterclass-architecture-524x733.png?imwidth=1080 1x, /static/images/promotion/testing-spring-boot-applications-masterclass-architecture-524x733.png?imwidth=3840 2x" src="/static/images/promotion/testing-spring-boot-applications-masterclass-architecture-524x733.png?imwidth=3840" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="object-cover object-center " loading="lazy"/></noscript></span></a></div></footer></div></div></article></div></main><div class="ml-form-embed" data-account="3117349:p5v1c3m1v8" data-form="4015126:i6h8m5"></div><footer><div class="flex flex-col items-center mt-16"><div class="flex mb-3 space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:contact@refactorfirst.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/amrutprabhu"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/amrut-prabhu-722baa65/"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://twitter.com/amrutprabhu42"><span class="sr-only">twitter</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 dark:text-gray-200 hover:text-blue-500 dark:hover:text-blue-400 h-6 w-6"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"></path></svg></a></div><div class="flex mb-2 space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Amrut Prabhu</div><div> • </div><div>© 2022</div><div> • </div><a href="/">RefactorFirst</a><div> • </div><a href="/privacy">Privacy Policy</a></div><br/></div></footer></div></div><div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-6xl xl:px-0"><div id="cookie-notice" class="consent_consentname__aF_O7"><br/><br/><p>By clicking “I Accept”, you agree to the storing of cookies on your device to enhance site navigation and analyze site usage</p><br/><br/><div><a id="cookie-notice-accept" class="consent_greenButton__K0FRN">I Accept</a><a href="/privacy">Privacy Policy</a></div><br/><br/><br/></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var p=Object.create;var r=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var i=a=\u003er(a,\"__esModule\",{value:!0});var N=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),k=(a,s)=\u003e{i(a);for(var t in s)r(a,t,{get:s[t],enumerable:!0})},g=(a,s,t)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of h(s))!u.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026r(a,n,{get:()=\u003es[n],enumerable:!(t=d(s,n))||t.enumerable});return a},b=a=\u003eg(i(r(a!=null?p(m(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=N((M,l)=\u003e{l.exports=_jsx_runtime});var x={};k(x,{default:()=\u003ew,frontmatter:()=\u003ef});var e=b(o()),f={title:\"Build Native Image For A Spring Boot Application\",author:\"Amrut Prabhu\",categories:\"\",tags:[\"Java\",\"Spring Boot\",\"Native Image\",\"GraalVM\"],\"photo-credits\":null,\"applaud-link\":\"2021/spring-boot-stream-kafka.json\",date:\"2022-11-03\",draft:!1,summary:\"We will look into the various important aspects of what is required to create a native image and how it is created\",imageUrl:\"/static/images/2022/build-native-image-with-graalvm/cover.jpg\",actualUrl:\"auto-generated\",customUrl:\"auto-generated\"};function v(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(t,{})})):t();function t(){let n=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",strong:\"strong\",em:\"em\",code:\"code\",pre:\"pre\",div:\"div\",h3:\"h3\"},a.components),{Image:c}=n;return c||y(\"Image\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"In this article, we will look into the various important aspects of what is required to create a native image and how it is created.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"introduction\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#introduction\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Introduction\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Spring Boot 3.0 is the next major release providing quite a huge set of features and improvements. It will be using Spring framework 6.0 and the baseline Java version is going to be Java 17.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now one of the major features provided is the ability to build native images using GraalVM out of the box.\"}),`\n`,(0,e.jsx)(n.p,{children:\"There are two ways you can build the native images\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Using the Cloud Native Buildpacks mechanism which will create a container with a native executable.\"}),`\n`,(0,e.jsx)(n.li,{children:\"Using GraalVM Native build tools.\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"We will be exploring creating a native image using GraalVM Native build tools.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Before we create a native image, let's understand what a native image is.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"what-is-a-native-image\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#what-is-a-native-image\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"What is a Native Image\"]}),`\n`,(0,e.jsx)(n.p,{children:\"A native image is a standalone executable of a Java application. We no longer need to create an executable jar nor require a JVM to run it.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Since there is no JVM involved, we lose the concept of dynamic class loading, Lazy loading, reflection, proxying classes, etc.\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:(0,e.jsx)(n.em,{children:\"So then how does the Spring Boot Application work?\"})})}),`\n`,(0,e.jsx)(n.p,{children:\"To execute the application, all information required to run the application must be known during build time.\"}),`\n`,(0,e.jsx)(n.p,{children:\"During build time, the code is statically analyzed from the \\u201Cmain\\u201D method entry point using ahead-of-time processing (AOT). This means any class that is not reachable is not included in the native image. The classpath is fixed and no lazy loading happens at runtime.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Features like reflection, resources, and proxy class information need to be provided to GraalVM during image creation. To do this, special JSON config files called Hint files are created to tell GraalVM how to deal with it.\"}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:(0,e.jsx)(n.em,{children:\"What advantage does it give us?\"})})}),`\n`,(0,e.jsx)(n.p,{children:\"The most important one is the application\\u2019s speed of execution.\"}),`\n`,(0,e.jsx)(n.p,{children:\"When we execute the native image, everything included in the native image is loaded in memory. This helps in achieving very high performance at runtime.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"It also has its share of drawbacks like e.g you cannot use \",(0,e.jsx)(n.code,{children:\"@profile\"}),\" or conditional bean loading using \",(0,e.jsx)(n.code,{children:\"@ConditionalOnProperty\"})]}),`\n`,(0,e.jsx)(n.p,{children:\"With this overview, let\\u2019s create an application and explore what gets created.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"creating-an-application\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#creating-an-application\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Creating an Application\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"Let\\u2019s start by creating a simple application from \",(0,e.jsx)(n.a,{href:\"https://start.spring.io\",children:\"https://start.spring.io\"}),\", which has a REST endpoint and returns a static string.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"For this, we will add the Spring Web dependency and we will be using Spring Boot version 3.0.0.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Let\\u2019s create a simple controller that returns a static string\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-java\",children:(0,e.jsxs)(n.code,{className:\"language-java code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token annotation punctuation\",children:\"@RestController\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"WebController\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token annotation punctuation\",children:\"@GetMapping\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"/\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getValue\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Yes! it works\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"Now to build the native image, we need GraalVM version 22.3. You can install it using \",(0,e.jsx)(n.a,{href:\"https://sdkman.io/\",children:\"sdkman\"}),\" or download it from \",(0,e.jsx)(n.a,{href:\"https://www.graalvm.org/downloads/\",children:\"here\"}),\".\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Next, we are going to build the image using the following command.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-shell\",children:(0,e.jsx)(n.code,{className:\"language-shell code-highlight\",children:(0,e.jsx)(n.span,{className:\"code-line\",children:`mvn native:compile -Pnative\n`})})}),`\n`,(0,e.jsx)(n.p,{children:\"Building the native image may take some time which depends on the system you are using.\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-shell\",children:(0,e.jsxs)(n.code,{className:\"language-shell code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"GraalVM Native Image: Generating \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'native-image-build'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"executable\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),`.\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"==\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\"/7\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" Initializing\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\".                                                                                    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),\".7s @ \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),\".18GB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" Version info: \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'GraalVM 22.3.0-dev Java 17 CE'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" Java version info: \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'17.0.5+8-LTS'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" C compiler: gcc \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"linux, x86_64, \",(0,e.jsx)(n.span,{className:\"token number\",children:\"11.2\"}),\".0\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:` Garbage collector: Serial GC\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\" user-specific feature\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"s\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),`.\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),`.\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),`.\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\"/7\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" Performing analysis\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\".  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"*********\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\"                                                               \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"56\"}),\".0s @ \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\".94GB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"15,703\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"92.40\"}),\"%\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" of \",(0,e.jsx)(n.span,{className:\"token number\",children:\"16,995\"}),` classes reachable\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"25,992\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"67.87\"}),\"%\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" of \",(0,e.jsx)(n.span,{className:\"token number\",children:\"38,299\"}),` fields reachable\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"76,294\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"62.25\"}),\"%\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" of \",(0,e.jsx)(n.span,{className:\"token number\",children:\"122,556\"}),` methods reachable\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token number\",children:\"786\"}),\" classes,   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"156\"}),\" fields, and \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3,712\"}),\" methods registered \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),` reflection\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token number\",children:\"64\"}),\" classes,    \",(0,e.jsx)(n.span,{className:\"token number\",children:\"70\"}),\" fields, and    \",(0,e.jsx)(n.span,{className:\"token number\",children:\"55\"}),\" methods registered \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),` JNI access\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),` native libraries: dl, pthread, rt, z\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\"/7\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" Building universe\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\".                                                                               \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"7\"}),\".7s @ \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),\".14GB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"4\"}),\"/7\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" Parsing methods\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\".      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"***\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\"                                                                      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),\".1s @ \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\".43GB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),\"/7\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" Inlining methods\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\".     \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"****\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\"                                                                     \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\".8s @ \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),\".23GB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),\"/7\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" Compiling methods\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\".    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"*******\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\"                                                                 \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"51\"}),\".4s @ \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\".15GB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"7\"}),\"/7\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" Creating image\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"..\"}),\".                                                                                  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"7\"}),\".1s @ \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\".66GB\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"34\"}),\".01MB \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"46.06\"}),\"%\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" code area:    \",(0,e.jsx)(n.span,{className:\"token number\",children:\"50,037\"}),\" compilation \",(0,e.jsx)(n.span,{className:\"token function\",children:\"units\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"37\"}),\".08MB \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"50.22\"}),\"%\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" image heap:  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"375,456\"}),\" objects and \",(0,e.jsx)(n.span,{className:\"token number\",children:\"395\"}),` resources\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\".75MB \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3.73\"}),\"%\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),` other data\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"73\"}),\".84MB \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),` total\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`------------------------------------------------------------------------------------------------------------------------\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Top \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10\"}),\" packages \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" code area:                               Top \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10\"}),\" object types \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),` image heap:\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\".63MB sun.security.ssl                                     \",(0,e.jsx)(n.span,{className:\"token number\",children:\"7\"}),\".48MB byte\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),` code metadata\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),\".06MB java.util                                            \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),\".83MB byte\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),` embedded resources\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"826\"}),\".38KB java.lang.invoke                                     \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),`.75MB java.lang.Class\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"717\"}),\".97KB com.sun.crypto.provider                              \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),`.53MB java.lang.String\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"641\"}),\".59KB org.apache.tomcat.util.net                           \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),\".08MB byte\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),` general heap data\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"534\"}),\".06KB org.apache.catalina.core                             \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),\".91MB byte\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),` java.lang.String\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"493\"}),\".46KB org.apache.coyote.http2                              \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`.32MB com.oracle.svm.core.hub.DynamicHubCompanion\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"473\"}),\".01KB java.lang                                          \",(0,e.jsx)(n.span,{className:\"token number\",children:\"850\"}),\".48KB byte\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),` reflection metadata\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"470\"}),\".23KB com.sun.org.apache.xerces.internal.impl            \",(0,e.jsx)(n.span,{className:\"token number\",children:\"685\"}),\".03KB java.util.HashMap\",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$Node\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"461\"}),\".63KB sun.security.x509                                  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"684\"}),\".50KB java.lang.String\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token number\",children:\"26\"}),\".44MB \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"658\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"more\"}),\" packages                                \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),\".20MB \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3105\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"more\"}),` object types\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`------------------------------------------------------------------------------------------------------------------------\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                        \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),\".7s \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"4.6\"}),\"% of total \",(0,e.jsx)(n.span,{className:\"token function\",children:\"time\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"in\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"42\"}),\" GCs \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" Peak RSS: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6\"}),\".54GB \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" CPU load: \",(0,e.jsx)(n.span,{className:\"token number\",children:\"6.24\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`------------------------------------------------------------------------------------------------------------------------\n`})]})}),`\n`,(0,e.jsx)(n.p,{children:\"That's pretty simple, right?\"}),`\n`,(0,e.jsx)(n.p,{children:\"Let's look at what is done behind the scenes to create this build.\"}),`\n`,(0,e.jsx)(n.p,{children:\"In the target folder, we would usually find compiled classes of our application in the classes directory. But now we have some more classes.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"proxy classes\",src:\"/static/images/2022/build-native-image-with-graalvm/proxy-classes.png\",width:\"546\",height:\"475\"})}),`\n`,(0,e.jsx)(n.p,{children:\"These are some of the proxy classes that are created at build time before the native image is created to provide the proxy class support.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"To generate the sources for these proxy classes, Spring AOT processing starts the application up to the point the bean definitions are available and then generates the sources. These are available under the \",(0,e.jsx)(n.code,{children:\"spring-aot\"}),\" folder as shown below.\"]}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"proxy classes source files\",src:\"/static/images/2022/build-native-image-with-graalvm/proxy-classes-source-files.png\",width:\"606\",height:\"823\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"In the META-INF folder, under the application\\u2019s package, you would find the \",(0,e.jsx)(n.code,{children:\"reflect-config.json\"}),\" hint files which will provide information to GraalVM to handle cases where refection is used. This is also the same way how resources are handled using the \",(0,e.jsx)(n.code,{children:\"resource-config.json\"}),\" file.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Finally, after creating all these files and classes, the native image is built using GraalVM.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Let\\u2019s now look at its speed of execution.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"performance-metrics\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#performance-metrics\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Performance metrics\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Let\\u2019s start the application by building a normal executable jar with maven build and then find its performance numbers to compare it with the native image.\"}),`\n`,(0,e.jsx)(n.p,{children:\"On running the application as an executable jar, we get this output.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"spring-boot-jar-startup\",src:\"/static/images/2022/build-native-image-with-graalvm/spring-boot-jar-startup.png\",width:\"1016\",height:\"308\"})}),`\n`,(0,e.jsx)(n.p,{children:\"While running the native image we get this output\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"native-image-startup\",src:\"/static/images/2022/build-native-image-with-graalvm/native-image-startup.png\",width:\"976\",height:\"305\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"The native image starts nearly \",(0,e.jsx)(n.strong,{children:\"31\"}),\" times faster as compared to the normal jar running on a JVM.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Let\\u2019s look at the time it takes to serve a GET request.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Here is the time it takes for the jar to serve requests on a JVM.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"spring-boot-get-performance\",src:\"/static/images/2022/build-native-image-with-graalvm/spring-boot-get-performance.png\",width:\"976\",height:\"310\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Here is the time it takes for the native image to serve requests.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"native-image-get-performance\",src:\"/static/images/2022/build-native-image-with-graalvm/native-image-get-performance.png\",width:\"976\",height:\"310\"})}),`\n`,(0,e.jsx)(n.p,{children:\"Here is a full comparison between the two.\"}),`\n`,(0,e.jsx)(n.div,{children:(0,e.jsx)(c,{alt:\"statistics\",src:\"/static/images/2022/build-native-image-with-graalvm/statistics.png\",width:\"791\",height:\"154\"})}),`\n`,(0,e.jsx)(n.p,{children:\"That's a huge improvement in performance in terms of startup time.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Now obviously the number may vary a bit based on different machines and also depends on how complex the application is. But still, there would be a significant amount of performance improvement.\"}),`\n`,(0,e.jsxs)(n.h3,{id:\"conclusion\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,e.jsx)(n.p,{children:\"GraalVM is bringing in high performant Java applications to the table but it also loses some of the flexibility we get from running a Spring Boot application on a JVM.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Finally, you have to decide, what is important to you.\"}),`\n`,(0,e.jsx)(n.p,{children:\"I see it as a new possibility that Java is providing to the programmers and we will see over the years how this pans out.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"I keep exploring and learning new things. If you want to know the latest trends and improve your software development skills, then subscribe to my newsletter below and also follow me on \",(0,e.jsx)(n.a,{href:\"https://twitter.com/amrutprabhu42\",children:\"Twitter\"}),\".\"]}),`\n`,(0,e.jsx)(n.p,{children:\"Enjoy!!\"})]})}}var w=v;function y(a,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return x;})();\n;return Component;","toc":[{"value":"Introduction","url":"#introduction","depth":2},{"value":"What is a Native Image","url":"#what-is-a-native-image","depth":2},{"value":"Creating an Application","url":"#creating-an-application","depth":2},{"value":"Performance metrics","url":"#performance-metrics","depth":2},{"value":"Conclusion","url":"#conclusion","depth":3}],"frontMatter":{"readingTime":{"text":"9 min read","minutes":8.13,"time":487800,"words":1626},"slug":"2022/build-native-image-with-graalvm","fileName":"2022/build-native-image-with-graalvm.md","title":"Build Native Image For A Spring Boot Application","author":"Amrut Prabhu","categories":"","tags":["Java","Spring Boot","Native Image","GraalVM"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2022-11-03T00:00:00.000Z","draft":false,"summary":"We will look into the various important aspects of what is required to create a native image and how it is created","imageUrl":"/static/images/2022/build-native-image-with-graalvm/cover.jpg","actualUrl":"2022/build-native-image-with-graalvm","customUrl":"build-native-image-with-graalvm"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.875,"time":52500,"words":175},"slug":["default"],"fileName":"default.md","name":"Amrut Prabhu","avatar":"/static/images/avatar-small.jpg","avatarBig":"/static/images/avatar-big.jpg","occupation":"Staff Engineer","company":"Personal","email":"contact@refactorfirst.com","twitter":"https://twitter.com/amrutprabhu42","linkedin":"https://www.linkedin.com/in/amrut-prabhu-722baa65/","github":"https://github.com/amrutprabhu","customUrl":"default","actualUrl":"default","date":null}],"prev":{"title":"Implementing GraphQL APIs in a Spring Boot Application","author":"Amrut Prabhu","categories":"","tags":["Java","Spring Boot","GraphQL"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2022-09-29T00:00:00.000Z","draft":false,"summary":"In this article, we will look into defining a GraphQL schema, implement APIs and write integration tests.","imageUrl":"/static/images/2022/spring-boot-with-graphql/cover.jpg","actualUrl":"2022/spring-boot-with-graphql","customUrl":"spring-boot-with-graphql","slug":"spring-boot-with-graphql"},"next":{"title":"Deploy Application on Kubernetes with Helm, JIB, and Skaffold","author":"Amrut Prabhu","categories":"","tags":["Java","Spring Boot","Kubernetes","Docker","Skaffold"],"photo-credits":null,"applaud-link":"2021/spring-boot-stream-kafka.json","date":"2022-11-10T00:00:00.000Z","draft":false,"summary":"Here we explore creating and running a Skaffold pipeline for deployment on a Kubernetes Cluster","imageUrl":"/static/images/2022/spring-boot-deployment-with-skaffold/cover.jpg","actualUrl":"2022/deploy-application-on-kubernetes-with-skaffold-helm-jib","customUrl":"deploy-application-on-kubernetes-with-skaffold-helm-jib","slug":"deploy-application-on-kubernetes-with-skaffold-helm-jib"}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"build-native-image-with-graalvm"},"buildId":"yTzK2PcQa7bx8MzM0z20U","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>